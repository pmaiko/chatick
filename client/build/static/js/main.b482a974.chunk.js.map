{"version":3,"sources":["store/types.js","constants.js","api/api.js","store/Auth/actions.js","store/Auth/reducers.js","store/reducers.js","store/actions.js","store/index.js","components/header.js","pages/SignIn.js","pages/SignUp.js","script.js","pages/GeneralChat.js","pages/Users.js","pages/ChatWrapper.js","App.js","index.js"],"names":["API_URL","window","location","protocol","URL","host","params","callback","axios","post","then","data","decodeToken","localStorage","getItem","state","token","replace","split","payload","JSON","parse","Base64","decode","userId","firstName","lastName","email","defaults","headers","common","logged","setItem","login","password","dispatch","api","loginRequest","type","types","json","checkLogged","logout","initialState","undefined","combineReducers","auth","action","removeItem","mapStateToProps","mapDispatchToProps","actions","store","component","connect","props","history","useHistory","className","href","onClick","e","preventDefault","push","to","useEffect","useState","setState","handleChange","target","name","value","onSubmit","htmlFor","id","autoComplete","placeholder","onChange","useForm","register","handleSubmit","watch","errors","console","log","ref","required","addSize","document","querySelector","header","chat_send_area","page_wrapper","messages","main","headerHeight","clientHeight","chat_send_areaHeight","style","paddingTop","height","addEventListener","scrollMessage","scrollTop","scrollHeight","_isMounted","keyPressed","event","key","sendMessage","newState","messageInput","socketIdPrev","socket","on","mixins","this","message","emit","prevLogged","outputMessage","map","el","i","isMyself","onKeyPress","Component","users","outputUsers","openSocket","path","ChatWrapper","SignUp","SignIn","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.b482a974.chunk.js","sourcesContent":["export const LOGIN = 'LOGIN';\r\nexport const CHECK_LOGGED = \"CHECK_LOGGED\";\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n\r\nexport default {\r\n    LOGIN,\r\n    CHECK_LOGGED,\r\n    LOGOUT,\r\n}\r\n","export const API_URL = process.env.NODE_ENV === 'production' ? `${window.location.protocol}/api/v1/` : 'http://localhost:5000/api/v1/';\r\nexport const URL = process.env.NODE_ENV === 'production' ? `${window.location.host}` : 'http://localhost:5000';\r\n","import axios from 'axios';\r\nimport {API_URL} from '../constants'\r\n\r\nexport default {\r\n    register (params, callback) {\r\n        axios.post(API_URL + 'register-user', params).then((data) => {\r\n            callback(data);\r\n        })\r\n    },\r\n\r\n    login (params, callback) {\r\n        axios.post(API_URL + 'login', params).then((data) => {\r\n            callback(data);\r\n        })\r\n    }\r\n}\r\n","import types from '../types'\r\nimport api from \"../../api/api\";\r\nimport {Base64} from \"js-base64\";\r\nimport axios from \"axios/index\";\r\n\r\n\r\nconst decodeToken = (data = window.localStorage.getItem('token')) => {\r\n    let state = {};\r\n    if (data) {\r\n        let token = data;\r\n\r\n        state.token = token;\r\n        token = token.replace(\"Bearer \", \"\");\r\n        token = token.split('.');\r\n\r\n        let header = token[0];\r\n        let payload = token[1];\r\n        let signature = token[2];\r\n        payload = JSON.parse(Base64.decode(payload));\r\n\r\n        state.userId = payload.userId;\r\n        state.firstName = payload.firstName;\r\n        state.lastName = payload.lastName;\r\n        state.email = payload.email;\r\n\r\n        axios.defaults.headers.common['Authorization'] = data;\r\n        state.logged = true;\r\n        localStorage.setItem('token', data);\r\n    }\r\n    return state;\r\n\r\n};\r\n\r\nexport default  {\r\n    login(email, password) {\r\n        return dispatch => {\r\n            const params = {\r\n                email: email,\r\n                password: password,\r\n            };\r\n            api.login(params, (data) => {\r\n                const state = decodeToken(data.data);\r\n                dispatch(this.loginRequest({\r\n                    type: types.LOGIN,\r\n                    ...state,\r\n                }));\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    loginRequest(json) {\r\n        return json;\r\n    },\r\n\r\n    checkLogged() {\r\n        const state = decodeToken();\r\n        return {\r\n            type: types.CHECK_LOGGED,\r\n            ...state\r\n        }\r\n    },\r\n\r\n    logout() {\r\n        return {\r\n            type: types.LOGOUT,\r\n        }\r\n    }\r\n}\r\n","import types from '../types';\r\nimport api from '../../api/api';\r\nimport { Base64 } from 'js-base64';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    logged: false,\r\n    token: undefined,\r\n    userId: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n};\r\n\r\nexport function authReducers(state, action) {\r\n    if (typeof state === 'undefined') {\r\n        return initialState;\r\n    }\r\n\r\n    switch (action.type) {\r\n        case types.LOGIN: {\r\n            state = {\r\n                ...action\r\n            };\r\n\r\n            break;\r\n        }\r\n\r\n        case types.CHECK_LOGGED: {\r\n            if(!action.token) {\r\n                state.token = undefined;\r\n                state.logged = false;\r\n            }\r\n            else {\r\n                state = {\r\n                    ...action\r\n                };\r\n            }\r\n\r\n\r\n            break;\r\n        }\r\n\r\n        case types.LOGOUT: {\r\n            window.localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Authorization'] = '';\r\n\r\n            state.token = undefined;\r\n            state.logged = false;\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n        return state;\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { authReducers } from \"./Auth/reducers\";\r\n\r\nexport default combineReducers({\r\n    auth: authReducers,\r\n});\r\n","import auth  from './Auth/actions';\r\n\r\nexport default {\r\n    ...auth,\r\n}\r\n","import actions from \"./actions\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ...state\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    ...actions,\r\n};\r\n\r\nexport const store = (component) => {\r\n    return connect(mapStateToProps, mapDispatchToProps)(component);\r\n};\r\n","import React, {useState, useEffect, useMemo} from \"react\";\r\nimport { store } from \"../store\";\r\nimport { Link, useHistory } from 'react-router-dom';\r\n\r\nfunction Header(props) {\r\n    const history = useHistory();\r\n    let logged = props.auth.logged;\r\n\r\n    let logout = () => {\r\n        props.logout();\r\n        history.push(\"/\");\r\n    };\r\n\r\n    const infoJsx = () => {\r\n        if(logged) {\r\n            return (\r\n                <div className=\"actions\">\r\n                    <a href=\"#\" onClick={(e) => {e.preventDefault(); logout()}}>\r\n\r\n                        Logout\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return(\r\n                <div className=\"actions\">\r\n                    <Link to=\"/registration\">Sign Up</Link>\r\n                </div>\r\n\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"logo\">\r\n                Chatick\r\n            </div>\r\n\r\n            {infoJsx()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default store(Header);\r\n","import React, { useState, useEffect } from 'react';\r\n\r\nimport { store } from '../store/index';\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\n\r\nfunction SingIn(props) {\r\n    let history = useHistory();\r\n    useEffect(() =>{\r\n        if (props.auth.logged) {\r\n            history.push(\"/chatWrapper\");\r\n        }\r\n    },[props.auth.logged]);\r\n\r\n    const [state, setState] = useState({email: '', password: ''});\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n    const submitForm =  (e) => {\r\n        e.preventDefault();\r\n        props.login(state.email, state.password);\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"page-wrapper sign-in form\">\r\n            <div className=\"form\">\r\n                <div className=\"form__title\">\r\n                    LOGIN\r\n                </div>\r\n                <form onSubmit={submitForm}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email address</label>\r\n                        <input type=\"email\"\r\n                               className=\"form-control\"\r\n                               name=\"email\"\r\n                               id=\"email\"\r\n                               autoComplete=\"username\"\r\n                               placeholder=\"Enter email\"\r\n                               value={state.email}\r\n                               onChange={handleChange}\r\n                        />\r\n                        <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with\r\n                            anyone else.\r\n                        </small>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\"\r\n                               className=\"form-control\"\r\n                               name=\"password\"\r\n                               id=\"password\"\r\n                               autoComplete=\"current-password\"\r\n                               placeholder=\"Password\"\r\n                               value={state.password}\r\n                               onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__buttons\">\r\n                        <button type=\"submit\" className=\"btn btn-primary w-100\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default store(SingIn);\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useForm } from 'react-hook-form';\r\nimport api from '../api/api';\r\nimport { store } from '../store/index';\r\n\r\nfunction SingUp(props) {\r\n    const history = useHistory();\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const [state, setState] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const submitForm = () => {\r\n        api.register(state, (data) => {\r\n            console.log(data)\r\n        })\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n\r\n    };\r\n\r\n    return (\r\n\r\n        <div className=\"page-wrapper sign-up\">\r\n            <div className=\"form\">\r\n                <div className=\"form__title\">\r\n                    Registration\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit(submitForm)}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n\r\n                        <input type=\"text\"\r\n                               className=\"form-control\"\r\n                               id=\"firstName\"\r\n                               name=\"firstName\"\r\n                               placeholder=\"First Name\"\r\n                               ref={register({ required: true })}\r\n                               onChange={handleChange}\r\n                               value={state.firstName}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\"\r\n                               className=\"form-control\"\r\n                               id=\"lastName\"\r\n                               name=\"lastName\"\r\n                               placeholder=\"Last Name\"\r\n                               onChange={handleChange}\r\n                               value={state.lastName}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email address</label>\r\n\r\n                        <input type=\"email\"\r\n                               className=\"form-control\"\r\n                               id=\"email\"\r\n                               name=\"email\"\r\n                               autoComplete=\"username\"\r\n                               placeholder=\"Enter email\"\r\n                               onChange={handleChange}\r\n                               value={state.email}\r\n                        />\r\n\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\"\r\n                               className=\"form-control\"\r\n                               id=\"password\"\r\n                               name=\"password\"\r\n                               placeholder=\"Password\"\r\n                               autoComplete=\"current-password\"\r\n                               onChange={handleChange}\r\n                               value={state.password}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__buttons\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary\"\r\n                        >\r\n                            Registration\r\n                        </button>\r\n                        <button\r\n                            onClick={() => {history.push(\"/\");}}\r\n                            className=\"btn btn-dark\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default store(SingUp);\r\n\r\n","// document.addEventListener('DOMContentLoaded', function () {\r\n//\r\n// });\r\nfunction addSize() {\r\n    let app = document.querySelector('#app');\r\n    let header = document.querySelector('.header');\r\n    let chat_send_area = document.querySelector('.chat__send-area');\r\n    let page_wrapper = document.querySelector('.page-wrapper');\r\n    let messages = document.querySelector('.chat .messages');\r\n\r\n\r\n    function main() {\r\n        if (header && chat_send_area && page_wrapper && messages) {\r\n            let headerHeight = header.clientHeight;\r\n            let chat_send_areaHeight = chat_send_area.clientHeight;\r\n\r\n            page_wrapper.style.paddingTop = `${headerHeight}px`;\r\n            messages.style.height = `calc(100% - ${chat_send_areaHeight}px)`;\r\n        }\r\n    }\r\n\r\n    main();\r\n\r\n    window.addEventListener('resize', () => {\r\n        main();\r\n    });\r\n}\r\n\r\nfunction scrollMessage() {\r\n    let messages = document.querySelector('.chat .messages');\r\n    if (messages) {\r\n        messages.scrollTop = messages.scrollHeight;\r\n    }\r\n}\r\n\r\n\r\nexport default {\r\n    addSize,\r\n    scrollMessage,\r\n}\r\n\r\n","import React, { Component } from 'react'\r\nimport { store } from '../store/index'\r\nimport mixins from '../script'\r\nclass GeneralChat extends Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            socketIdPrev: '',\r\n            messageInput: '',\r\n            messages: [],\r\n        };\r\n        this.props.socket.on('connect', () => {\r\n\r\n        });\r\n\r\n    }\r\n\r\n    componentDidMount() {\r\n        mixins.addSize();\r\n        if(this.props.auth.logged) {\r\n            this._isMounted = true;\r\n\r\n            this.props.socket.on('message', (data) => {\r\n                let newState = this.state;\r\n                newState.messages = [...newState.messages, {\r\n                    message: data.messageInput,\r\n                    userId: data.userId,\r\n                    firstName: data.firstName,\r\n                    lastName: data.lastName,\r\n                }];\r\n\r\n                if (this._isMounted) {\r\n                    this.setState({\r\n                            ...newState,\r\n                        }\r\n                    );\r\n                }\r\n\r\n                mixins.scrollMessage();\r\n            });\r\n\r\n            if (this.props.socket.id !== this.state.socketIdPrev) {\r\n                this.props.socket.emit('getGeneralMessage');\r\n            }\r\n\r\n            this.props.socket.on('getGeneralMessage', (data) => {\r\n                if (this.props.socket.id !== this.state.socketIdPrev) {\r\n                    let newState = this.state;\r\n                    newState.socketIdPrev = this.props.socket.id;\r\n                    newState.messages = data;\r\n\r\n                    if (this._isMounted) {\r\n                        this.setState({\r\n                                ...newState,\r\n                            }\r\n                        );\r\n                    }\r\n                    mixins.scrollMessage();\r\n                }\r\n            });\r\n\r\n        }\r\n    }\r\n\r\n    componentWillUnmount(prevLogged) {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    keyPressed = event => {\r\n        if (event.key === \"Enter\") {\r\n            this.sendMessage();\r\n        }\r\n    };\r\n\r\n    sendMessage() {\r\n        this.props.socket.emit('message', {\r\n            messageInput: this.state.messageInput,\r\n            userId: this.props.auth.userId,\r\n            firstName: this.props.auth.firstName,\r\n            lastName: this.props.auth.lastName,\r\n        });\r\n    }\r\n\r\n    handleChange = e => {\r\n        let newState = this.state;\r\n        newState.messageInput = e.target.value;\r\n        this.setState({\r\n                ...newState,\r\n            }\r\n        );\r\n\r\n        e.target.value = \"\";\r\n    };\r\n\r\n\r\n    render() {\r\n        let outputMessage = this.state.messages.map((el, i) => {\r\n            let isMyself = false;\r\n            el.userId === this.props.auth.userId ? isMyself = true : isMyself = false;\r\n\r\n            return (\r\n                <div key={i} className={isMyself ? 'messages__item messages__item--my-message' : \"messages__item\"}>\r\n                    <div className=\"messages__author\">\r\n                        {!isMyself ? el.firstName + ' ' + el.lastName + ':': ''}\r\n                    </div>\r\n                    <div className={'messages__text'} >\r\n                        {el.message}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"chat\">\r\n                <div className=\"messages\">\r\n                    {outputMessage}\r\n                </div>\r\n                <div className=\"chat__send-area\">\r\n                    <textarea className=\"chat__input-message form-control\"\r\n                              onChange={this.handleChange}\r\n                              value={this.state.messageInput}\r\n                              onKeyPress={this.keyPressed}\r\n                    />\r\n                    <button className=\"chat__send-message btn btn-primary\" onClick={()=>{this.sendMessage()}}>Send</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // render() {\r\n    //     return (\r\n    //         <div>ad</div>\r\n    //     );\r\n    // }\r\n}\r\n\r\nexport default store(GeneralChat);\r\n\r\n","import React, { Component } from 'react'\r\nimport { store } from '../store/index';\r\n\r\nclass Users extends Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            users: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n        if(this.props.auth.logged) {\r\n            this.props.socket.emit('getUsers');\r\n        }\r\n\r\n\r\n        this.props.socket.on('getUsers', (data) => {\r\n            let newState = this.state;\r\n            newState.users = data;\r\n            //console.log(newState.users);\r\n            if (this._isMounted) {\r\n                this.setState({\r\n                        ...newState,\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    sendMessage() {\r\n        this.props.socket.emit('message', {messageInput: this.state.messageInput, userId: this.props.auth.userId});\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let newState = this.state;\r\n        newState.messageInput = e.target.value;\r\n        this.setState({\r\n                ...newState,\r\n            }\r\n        );\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        let outputUsers = this.state.users.map((el, i) => {\r\n            // console.log(el);\r\n            return (\r\n                <div key={i} className=\"\">\r\n                    {el.firstName} {el.lastName}\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"GeneralChat\">\r\n                {outputUsers}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default store(Users);\r\n\r\n","import React, { useState, useEffect } from 'react'\r\nimport { store } from '../store/index'\r\nimport GeneralChat from './GeneralChat'\r\nimport Users from './Users'\r\nimport openSocket from 'socket.io-client'\r\nimport { URL } from '../constants'\r\nimport { useHistory } from \"react-router-dom\";\r\nlet socket = openSocket(URL);\r\n\r\nfunction ChatWrapper(props) {\r\n    let history = useHistory();\r\n    useEffect(() => {\r\n        if (!props.auth.logged) {\r\n            history.push(\"/\");\r\n        }\r\n        else {\r\n        }\r\n    }, [props.auth.logged]);\r\n\r\n\r\n    return (\r\n        <div className=\"page-wrapper chat-wrapper\">\r\n            <div className=\"container-fluid h-100\">\r\n                <div className=\"row h-100\">\r\n                    <div className=\"col-md-3 h-100\">\r\n                        <Users socket={socket}/>\r\n                    </div>\r\n                    <div className=\"col-md-6 h-100\">\r\n                        <GeneralChat socket={socket}/>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default store(ChatWrapper);\r\n\r\n","import React,{useEffect} from 'react';\r\nimport {store} from \"./store\";\r\nimport Header from \"./components/header\";\r\n\r\n// import {Router, Route, Switch, Redirect} from \"react-router\";\r\n// import { createBrowserHistory } from \"history\";\r\n\r\nimport {BrowserRouter, Switch, Route} from \"react-router-dom\"\r\n\r\n// import openSocket from 'socket.io-client';\r\nimport SignIn from \"./pages/SignIn\";\r\nimport SignUp from \"./pages/SignUp\";\r\nimport ChatWrapper from \"./pages/ChatWrapper\";\r\n\r\n// const history = createBrowserHistory();\r\n// let path = history.location.pathname;\r\n\r\nfunction App(props) {\r\n    useEffect(() => {\r\n        props.checkLogged();\r\n        // const socket = openSocket('http://localhost:5000');\r\n    },[]);\r\n\r\n\r\n    return (\r\n        <BrowserRouter>\r\n            <Header />\r\n            <Switch>\r\n                <Route path=\"/chatWrapper\" component={ChatWrapper}/>\r\n                <Route path=\"/registration\" component={SignUp}/>\r\n                <Route path=\"/\" component={SignIn}/>\r\n            </Switch>\r\n\r\n        </BrowserRouter>\r\n    )\r\n}\r\n\r\nexport default store(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport actions from './store/Auth/actions'\r\n\r\nimport reducers from './store/reducers';\r\nimport App from './App';\r\n\r\n// styles\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './assets/sass/app.scss'\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n// store.getState();\r\n// store.subscribe(() => store.getState());\r\n//store.dispatch(actions.loginRequest()).then(() => console.log(store.getState()))\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('app')\r\n);\r\n"],"sourceRoot":""}