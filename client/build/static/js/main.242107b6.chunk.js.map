{"version":3,"sources":["store/types.js","constants.js","api/api.js","store/Auth/actions.js","store/Auth/reducers.js","store/reducers.js","store/actions.js","store/index.js","components/header.js","pages/SignIn.js","pages/SignUp.js","pages/GeneralChat.js","pages/Users.js","pages/ChatWrapper.js","App.js","index.js"],"names":["API_URL","window","location","protocol","hostname","params","callback","axios","post","then","data","decodeToken","localStorage","getItem","state","token","replace","split","payload","JSON","parse","Base64","decode","userId","firstName","lastName","email","defaults","headers","common","logged","setItem","login","password","dispatch","api","loginRequest","type","types","json","checkLogged","logout","initialState","undefined","combineReducers","auth","action","removeItem","mapStateToProps","mapDispatchToProps","actions","store","component","connect","props","history","useHistory","className","href","onClick","e","preventDefault","push","to","useState","setState","handleChange","target","name","value","onSubmit","htmlFor","id","autoComplete","placeholder","onChange","useForm","register","handleSubmit","watch","errors","console","log","ref","required","_isMounted","newState","messageInput","messages","this","socket","on","message","emit","outputMessage","map","el","i","isMyself","key","sendMessage","Component","users","outputUsers","openSocket","createBrowserHistory","path","pathname","useEffect","ChatWrapper","SignUp","SignIn","createStore","reducers","applyMiddleware","thunk","ReactDOM","render","document","getElementById"],"mappings":"uNAKe,EALM,QAKN,EAJa,eAIb,EAHO,S,iBCFTA,EAAU,UAA2CC,OAAOC,SAASC,SAA3D,oBAA+EF,OAAOC,SAASE,UCGvG,WACDC,EAAQC,GACdC,IAAMC,KAAKR,EAAU,gBAAiBK,GAAQI,MAAK,SAACC,GAChDJ,EAASI,OAHN,WAOJL,EAAQC,GACXC,IAAMC,KAAKR,EAAU,QAASK,GAAQI,MAAK,SAACC,GACxCJ,EAASI,O,QCNfC,EAAc,WAAkD,IAAjDD,EAAgD,uDAAzCT,OAAOW,aAAaC,QAAQ,SAChDC,EAAQ,GACZ,GAAIJ,EAAM,CACN,IAAIK,EAAQL,EAEZI,EAAMC,MAAQA,GAEdA,GADAA,EAAQA,EAAMC,QAAQ,UAAW,KACnBC,MAAM,MAED,GAAnB,IACIC,EAAUH,EAAM,GACJA,EAAM,GACtBG,EAAUC,KAAKC,MAAMC,SAAOC,OAAOJ,IAEnCJ,EAAMS,OAASL,EAAQK,OACvBT,EAAMU,UAAYN,EAAQM,UAC1BV,EAAMW,SAAWP,EAAQO,SACzBX,EAAMY,MAAQR,EAAQQ,MAEtBnB,IAAMoB,SAASC,QAAQC,OAAvB,cAAiDnB,EACjDI,EAAMgB,QAAS,EACflB,aAAamB,QAAQ,QAASrB,GAElC,OAAOI,GAIK,GACZkB,MADY,SACNN,EAAOO,GAAW,IAAD,OACnB,OAAO,SAAAC,GAKHC,EAJe,CACXT,MAAOA,EACPO,SAAUA,IAEI,SAACvB,GACf,IAAMI,EAAQH,EAAYD,EAAKA,MAC/BwB,EAAS,EAAKE,aAAL,aACLC,KAAMC,GACHxB,UAOnBsB,aAlBY,SAkBCG,GACT,OAAOA,GAGXC,YAtBY,WAuBR,IAAM1B,EAAQH,IACd,OAAO,aACH0B,KAAMC,GACHxB,IAIX2B,OA9BY,WA+BR,MAAO,CACHJ,KAAMC,KC5DZI,EAAe,CACjBZ,QAAQ,EACRf,WAAO4B,EACPpB,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,MAAO,ICRIkB,kBAAgB,CAC3BC,KDUG,SAAsB/B,EAAOgC,GAChC,GAAqB,qBAAVhC,EACP,OAAO4B,EAGX,OAAQI,EAAOT,MACX,KAAKC,EACDxB,EAAK,eACEgC,GAGP,MAGJ,KAAKR,EACGQ,EAAO/B,MAKPD,EAAK,eACEgC,IALPhC,EAAMC,WAAQ4B,EACd7B,EAAMgB,QAAS,GASnB,MAGJ,KAAKQ,EACDrC,OAAOW,aAAamC,WAAW,SAC/BxC,IAAMoB,SAASC,QAAQC,OAAvB,cAAiD,GAEjDf,EAAMC,WAAQ4B,EACd7B,EAAMgB,QAAS,EAMnB,OAAOhB,KEpDA,iBACR+B,GCADG,EAAkB,SAAClC,GACrB,OAAO,eACAA,IAILmC,EAAkB,eACjBC,GAGMC,EAAQ,SAACC,GAClB,OAAOC,YAAQL,EAAiBC,EAAzBI,CAA6CD,I,eCiCzCD,SA1Cf,SAAgBG,GACZ,IAAMC,EAAUC,cACZ1B,EAASwB,EAAMT,KAAKf,OA6BxB,OACI,yBAAK2B,UAAU,UACX,yBAAKA,UAAU,QAAf,WAvBD3B,EAEK,yBAAK2B,UAAU,WACX,uBAAGC,KAAK,IAAIC,QAAS,SAACC,GAAOA,EAAEC,iBAR3CP,EAAMb,SACNc,EAAQO,KAAK,OAOD,WAUJ,yBAAKL,UAAU,WACX,kBAAC,IAAD,CAAMM,GAAG,iBAAT,gB,sBC4CLZ,SAnEf,SAAgBG,GACZ,IAAMC,EAAUC,cADG,EAEOQ,mBAAS,CAACtC,MAAO,GAAIO,SAAU,KAFtC,mBAEZnB,EAFY,KAELmD,EAFK,KAIbC,EAAe,SAACN,GAClBK,EAAS,eACFnD,EADC,eAEH8C,EAAEO,OAAOC,KAAOR,EAAEO,OAAOE,UAclC,OACI,yBAAKZ,UAAU,gBACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,eAAf,SAGA,0BAAMa,SAjBE,SAACV,GACjBA,EAAEC,iBACFP,EAAMtB,MAAMlB,EAAMY,MAAOZ,EAAMmB,UAE3BqB,EAAMT,KAAKf,QACXyB,EAAQO,KAAK,kBAaL,yBAAKL,UAAU,cACX,2BAAOc,QAAQ,SAAf,iBACA,2BAAOlC,KAAK,QACLoB,UAAU,eACVW,KAAK,QACLI,GAAG,QACHC,aAAa,WACbC,YAAY,cACZL,MAAOvD,EAAMY,MACbiD,SAAUT,IAEjB,2BAAOM,GAAG,YAAYf,UAAU,wBAAhC,mDAIJ,yBAAKA,UAAU,cACX,2BAAOc,QAAQ,YAAf,YACA,2BAAOlC,KAAK,WACLoB,UAAU,eACVW,KAAK,WACLI,GAAG,WACHC,aAAa,mBACbC,YAAY,WACZL,MAAOvD,EAAMmB,SACb0C,SAAUT,KAGrB,yBAAKT,UAAU,iBACX,4BAAQpB,KAAK,SAASoB,UAAU,yBAAhC,gB,QCmDTN,SA3Gf,SAAgBG,GACZ,IAAMC,EAAUC,cADG,EAE+BoB,cAA1CC,EAFW,EAEXA,SAAUC,EAFC,EAEDA,aAFC,KAEaC,MAFb,EAEoBC,OACbhB,mBAAS,CAC/BxC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPO,SAAU,MAPK,mBAGZnB,EAHY,KAGLmD,EAHK,KAgBbC,EAAe,SAACN,GAClBK,EAAS,eACFnD,EADC,eAEH8C,EAAEO,OAAOC,KAAOR,EAAEO,OAAOE,UAKlC,OAEI,yBAAKZ,UAAU,WACX,yBAAKA,UAAU,QACX,yBAAKA,UAAU,eAAf,gBAIA,0BAAMa,SAAUQ,GAtBT,WACf3C,EAAarB,GAAO,SAACJ,GACjBuE,QAAQC,IAAIxE,UAqBJ,yBAAK+C,UAAU,cACX,2BAAOc,QAAQ,aAAf,cAEA,2BAAOlC,KAAK,OACLoB,UAAU,eACVe,GAAG,YACHJ,KAAK,YACLM,YAAY,aACZS,IAAKN,EAAS,CAAEO,UAAU,IAC1BT,SAAUT,EACVG,MAAOvD,EAAMU,aAIxB,yBAAKiC,UAAU,cACX,2BAAOc,QAAQ,YAAf,aACA,2BAAOlC,KAAK,OACLoB,UAAU,eACVe,GAAG,WACHJ,KAAK,WACLM,YAAY,YACZC,SAAUT,EACVG,MAAOvD,EAAMW,YAIxB,yBAAKgC,UAAU,cACX,2BAAOc,QAAQ,SAAf,iBAEA,2BAAOlC,KAAK,QACLoB,UAAU,eACVe,GAAG,QACHJ,KAAK,QACLK,aAAa,WACbC,YAAY,cACZC,SAAUT,EACVG,MAAOvD,EAAMY,SAKxB,yBAAK+B,UAAU,cACX,2BAAOc,QAAQ,YAAf,YACA,2BAAOlC,KAAK,WACLoB,UAAU,eACVe,GAAG,WACHJ,KAAK,WACLM,YAAY,WACZD,aAAa,mBACbE,SAAUT,EACVG,MAAOvD,EAAMmB,YAGxB,yBAAKwB,UAAU,iBACX,4BACIpB,KAAK,SACLoB,UAAU,mBAFd,gBAMA,4BACIE,QAAS,WAAOJ,EAAQO,KAAK,MAC7BL,UAAU,gBAFd,iB,+CChBTN,I,YA7EX,WAAYG,GAAQ,IAAD,8BACf,4CAAMA,KAHV+B,YAAa,EAEM,EAgCnBnB,aAAe,SAACN,GACZ,IAAI0B,EAAW,EAAKxE,MACpBwE,EAASC,aAAe3B,EAAEO,OAAOE,MACjC,EAAKJ,SAAL,eACWqB,KAlCX,EAAKxE,MAAQ,CACTyE,aAAc,GACdC,SAAU,IAJC,E,iFAQE,IAAD,OAChBC,KAAKJ,YAAa,EAElBI,KAAKnC,MAAMoC,OAAOC,GAAG,WAAW,SAACjF,GAC7B,IAAI4E,EAAW,EAAKxE,MACpBwE,EAASE,SAAT,sBAAwBF,EAASE,UAAjC,CAA2C,CAACI,QAASlF,EAAK6E,aAAchE,OAAQb,EAAKa,UAEjF,EAAK8D,YACL,EAAKpB,SAAL,eACWqB,S,6CAQnBG,KAAKJ,YAAa,I,oCAIlBI,KAAKnC,MAAMoC,OAAOG,KAAK,UAAW,CAACN,aAAcE,KAAK3E,MAAMyE,aAAchE,OAAQkE,KAAKnC,MAAMT,KAAKtB,W,+BAa5F,IAAD,OACDuE,EAAgBL,KAAK3E,MAAM0E,SAASO,KAAI,SAACC,EAAIC,GAC7C,IAAIC,GAAW,EAGf,OAFuCA,EAAvCF,EAAGzE,SAAW,EAAK+B,MAAMT,KAAKtB,OAG1B,yBAAK4E,IAAKF,EAAGxC,UAAU,kBACnB,yBAAKA,UAAU,oBACTyC,EAA6E,KAAlE,EAAK5C,MAAMT,KAAKrB,UAAY,IAAM,EAAK8B,MAAMT,KAAKpB,SAAW,KAE9E,yBAAKgC,UAAWyC,EAAW,wBAA0B,kBAChDF,EAAGJ,aAMpB,OACI,yBAAKnC,UAAU,eACX,yBAAKA,UAAU,YACVqC,GAEL,8BAAUrC,UAAU,UAAUkB,SAAUc,KAAKvB,aAAcG,MAAOoB,KAAK3E,MAAMyE,eAC7E,4BAAQ9B,UAAU,cAAcE,QAAS,WAAK,EAAKyC,gBAAnD,Y,GApEUC,cCkEXlD,I,YA/DX,WAAYG,GAAQ,IAAD,8BACf,4CAAMA,KAHV+B,YAAa,EAEM,EAkCnBnB,aAAe,SAACN,GACZ,IAAI0B,EAAW,EAAKxE,MACpBwE,EAASC,aAAe3B,EAAEO,OAAOE,MACjC,EAAKJ,SAAL,eACWqB,KAnCX,EAAKxE,MAAQ,CACTwF,MAAO,IAJI,E,iFAQE,IAAD,OAChBb,KAAKJ,YAAa,EAElBI,KAAKnC,MAAMoC,OAAOG,KAAK,YAEvBJ,KAAKnC,MAAMoC,OAAOC,GAAG,YAAY,SAACjF,GAC9B,IAAI4E,EAAW,EAAKxE,MACpBwE,EAASgB,MAAQ5F,EAEb,EAAK2E,YACL,EAAKpB,SAAL,eACWqB,S,6CAQnBG,KAAKJ,YAAa,I,oCAIlBI,KAAKnC,MAAMoC,OAAOG,KAAK,UAAW,CAACN,aAAcE,KAAK3E,MAAMyE,aAAchE,OAAQkE,KAAKnC,MAAMT,KAAKtB,W,+BAelG,IAAIgF,EAAcd,KAAK3E,MAAMwF,MAAMP,KAAI,SAACC,EAAIC,GAExC,OADAhB,QAAQC,IAAIc,GAER,yBAAKG,IAAKF,EAAGxC,UAAU,IAClBuC,EAAGxE,UADR,IACoBwE,EAAGvE,aAK/B,OACI,yBAAKgC,UAAU,eACV8C,O,GA5DGF,c,iBC8BLlD,I,2MA1BXuC,OAASc,IAAW,yB,mFAGhBf,KAAKC,OAAOC,GAAG,WAAW,WACtBV,QAAQC,IAAI,uB,+BAKhB,OACI,yBAAKzB,UAAU,eACX,yBAAKA,UAAU,mBACX,yBAAKA,UAAU,OACX,yBAAKA,UAAU,YACX,kBAAC,EAAD,CAAOiC,OAAQD,KAAKC,UAExB,yBAAKjC,UAAU,YACX,kBAAC,EAAD,CAAaiC,OAAQD,KAAKC,iB,GAlB5BW,cCMpB9C,EAAUkD,cACZC,EAAOnD,EAAQrD,SAASyG,SAwBbxD,SAtBf,SAAaG,GAOT,OANAsD,qBAAU,WACNtD,EAAMd,gBAER,IAIE,kBAAC,IAAD,CAAQe,QAASA,GACb,kBAAC,EAAD,MACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAOmD,KAAK,eAAetD,UAAWyD,IACtC,kBAAC,IAAD,CAAOH,KAAK,gBAAgBtD,UAAW0D,IACvC,kBAAC,IAAD,CAAOJ,KAAK,IAAItD,UAAW2D,KAG7BzD,EAAMT,KAAKf,OAAS,kBAAC,IAAD,CAAUiC,GAAG,iBAA4B,kBAAT2C,EAA2B,kBAAC,IAAD,CAAU3C,GAAG,MAAQ,OCjB5GZ,G,cAAQ6D,YAAYC,EAAUC,YAAgBC,OAIpDC,IAASC,OACL,kBAAC,IAAD,CAAUlE,MAAOA,GACb,kBAAC,EAAD,OAEJmE,SAASC,eAAe,S","file":"static/js/main.242107b6.chunk.js","sourcesContent":["export const LOGIN = 'LOGIN';\r\nexport const CHECK_LOGGED = \"CHECK_LOGGED\";\r\nexport const LOGOUT = 'LOGOUT';\r\n\r\n\r\nexport default {\r\n    LOGIN,\r\n    CHECK_LOGGED,\r\n    LOGOUT,\r\n}\r\n","export const API_URL = process.env.NODE_ENV === 'production' ? `${window.location.protocol}/api/v1/.${window.location.hostname}` : 'http://localhost:5000/api/v1/';\r\n","import axios from 'axios';\r\nimport {API_URL} from '../constants'\r\n\r\nexport default {\r\n    register (params, callback) {\r\n        axios.post(API_URL + 'register-user', params).then((data) => {\r\n            callback(data);\r\n        })\r\n    },\r\n\r\n    login (params, callback) {\r\n        axios.post(API_URL + 'login', params).then((data) => {\r\n            callback(data);\r\n        })\r\n    }\r\n}\r\n","import types from '../types'\r\nimport api from \"../../api/api\";\r\nimport {Base64} from \"js-base64\";\r\nimport axios from \"axios/index\";\r\n\r\n\r\nconst decodeToken = (data = window.localStorage.getItem('token')) => {\r\n    let state = {};\r\n    if (data) {\r\n        let token = data;\r\n\r\n        state.token = token;\r\n        token = token.replace(\"Bearer \", \"\");\r\n        token = token.split('.');\r\n\r\n        let header = token[0];\r\n        let payload = token[1];\r\n        let signature = token[2];\r\n        payload = JSON.parse(Base64.decode(payload));\r\n\r\n        state.userId = payload.userId;\r\n        state.firstName = payload.firstName;\r\n        state.lastName = payload.lastName;\r\n        state.email = payload.email;\r\n\r\n        axios.defaults.headers.common['Authorization'] = data;\r\n        state.logged = true;\r\n        localStorage.setItem('token', data);\r\n    }\r\n    return state;\r\n\r\n};\r\n\r\nexport default  {\r\n    login(email, password) {\r\n        return dispatch => {\r\n            const params = {\r\n                email: email,\r\n                password: password,\r\n            };\r\n            api.login(params, (data) => {\r\n                const state = decodeToken(data.data);\r\n                dispatch(this.loginRequest({\r\n                    type: types.LOGIN,\r\n                    ...state,\r\n                }));\r\n            });\r\n        }\r\n\r\n    },\r\n\r\n    loginRequest(json) {\r\n        return json;\r\n    },\r\n\r\n    checkLogged() {\r\n        const state = decodeToken();\r\n        return {\r\n            type: types.CHECK_LOGGED,\r\n            ...state\r\n        }\r\n    },\r\n\r\n    logout() {\r\n        return {\r\n            type: types.LOGOUT,\r\n        }\r\n    }\r\n}\r\n","import types from '../types';\r\nimport api from '../../api/api';\r\nimport { Base64 } from 'js-base64';\r\nimport axios from 'axios';\r\n\r\nconst initialState = {\r\n    logged: false,\r\n    token: undefined,\r\n    userId: '',\r\n    firstName: '',\r\n    lastName: '',\r\n    email: '',\r\n};\r\n\r\nexport function authReducers(state, action) {\r\n    if (typeof state === 'undefined') {\r\n        return initialState;\r\n    }\r\n\r\n    switch (action.type) {\r\n        case types.LOGIN: {\r\n            state = {\r\n                ...action\r\n            };\r\n\r\n            break;\r\n        }\r\n\r\n        case types.CHECK_LOGGED: {\r\n            if(!action.token) {\r\n                state.token = undefined;\r\n                state.logged = false;\r\n            }\r\n            else {\r\n                state = {\r\n                    ...action\r\n                };\r\n            }\r\n\r\n\r\n            break;\r\n        }\r\n\r\n        case types.LOGOUT: {\r\n            window.localStorage.removeItem('token');\r\n            axios.defaults.headers.common['Authorization'] = '';\r\n\r\n            state.token = undefined;\r\n            state.logged = false;\r\n\r\n            break;\r\n        }\r\n    }\r\n\r\n        return state;\r\n}\r\n","import { combineReducers } from 'redux';\r\nimport { authReducers } from \"./Auth/reducers\";\r\n\r\nexport default combineReducers({\r\n    auth: authReducers,\r\n});\r\n","import auth  from './Auth/actions';\r\n\r\nexport default {\r\n    ...auth,\r\n}\r\n","import actions from \"./actions\";\r\nimport { connect } from 'react-redux';\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        ...state\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = {\r\n    ...actions,\r\n};\r\n\r\nexport const store = (component) => {\r\n    return connect(mapStateToProps, mapDispatchToProps)(component);\r\n};\r\n","import React, {useState, useEffect, useMemo} from \"react\";\r\nimport { store } from \"../store\";\r\nimport { Link } from 'react-router-dom';\r\nimport { useHistory } from \"react-router\";\r\n\r\nfunction Header(props) {\r\n    const history = useHistory();\r\n    let logged = props.auth.logged;\r\n\r\n    let logout = () => {\r\n        props.logout();\r\n        history.push(\"/\");\r\n    };\r\n\r\n    const infoJsx = () => {\r\n        if(logged) {\r\n            return (\r\n                <div className=\"actions\">\r\n                    <a href=\"#\" onClick={(e) => {e.preventDefault(); logout()}}>\r\n\r\n                        Logout\r\n                    </a>\r\n                </div>\r\n            );\r\n        }\r\n\r\n        else {\r\n            return(\r\n                <div className=\"actions\">\r\n                    <Link to=\"/registration\">Sign Up</Link>\r\n                </div>\r\n\r\n            );\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"header\">\r\n            <div className=\"logo\">\r\n                Chatick\r\n            </div>\r\n\r\n            {infoJsx()}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default store(Header);\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { store } from '../store/index';\r\nimport { useHistory } from \"react-router\";\r\n\r\n\r\nfunction SingIn(props) {\r\n    const history = useHistory();\r\n    const [state, setState] = useState({email: '', password: ''});\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value,\r\n        });\r\n    };\r\n    const submitForm =  (e) => {\r\n        e.preventDefault();\r\n        props.login(state.email, state.password);\r\n\r\n        if (props.auth.logged) {\r\n            history.push(\"/chatWrapper\");\r\n        }\r\n\r\n    };\r\n\r\n\r\n    return (\r\n        <div className=\"sign-in form\">\r\n            <div className=\"form\">\r\n                <div className=\"form__title\">\r\n                    LOGIN\r\n                </div>\r\n                <form onSubmit={submitForm}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email address</label>\r\n                        <input type=\"email\"\r\n                               className=\"form-control\"\r\n                               name=\"email\"\r\n                               id=\"email\"\r\n                               autoComplete=\"username\"\r\n                               placeholder=\"Enter email\"\r\n                               value={state.email}\r\n                               onChange={handleChange}\r\n                        />\r\n                        <small id=\"emailHelp\" className=\"form-text text-muted\">We'll never share your email with\r\n                            anyone else.\r\n                        </small>\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\"\r\n                               className=\"form-control\"\r\n                               name=\"password\"\r\n                               id=\"password\"\r\n                               autoComplete=\"current-password\"\r\n                               placeholder=\"Password\"\r\n                               value={state.password}\r\n                               onChange={handleChange}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__buttons\">\r\n                        <button type=\"submit\" className=\"btn btn-primary w-100\">Login</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\n\r\n\r\nexport default store(SingIn);\r\n","import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router\";\r\nimport { useForm } from 'react-hook-form';\r\nimport api from '../api/api';\r\nimport { store } from '../store/index';\r\n\r\nfunction SingUp(props) {\r\n    const history = useHistory();\r\n    const { register, handleSubmit, watch, errors } = useForm();\r\n    const [state, setState] = useState({\r\n        firstName: '',\r\n        lastName: '',\r\n        email: '',\r\n        password: '',\r\n    });\r\n\r\n    const submitForm = () => {\r\n        api.register(state, (data) => {\r\n            console.log(data)\r\n        })\r\n    };\r\n\r\n    const handleChange = (e) => {\r\n        setState({\r\n            ...state,\r\n            [e.target.name]: e.target.value\r\n        });\r\n\r\n    };\r\n\r\n    return (\r\n\r\n        <div className=\"sign-up\">\r\n            <div className=\"form\">\r\n                <div className=\"form__title\">\r\n                    Registration\r\n                </div>\r\n\r\n                <form onSubmit={handleSubmit(submitForm)}>\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"firstName\">First Name</label>\r\n\r\n                        <input type=\"text\"\r\n                               className=\"form-control\"\r\n                               id=\"firstName\"\r\n                               name=\"firstName\"\r\n                               placeholder=\"First Name\"\r\n                               ref={register({ required: true })}\r\n                               onChange={handleChange}\r\n                               value={state.firstName}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"lastName\">Last Name</label>\r\n                        <input type=\"text\"\r\n                               className=\"form-control\"\r\n                               id=\"lastName\"\r\n                               name=\"lastName\"\r\n                               placeholder=\"Last Name\"\r\n                               onChange={handleChange}\r\n                               value={state.lastName}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"email\">Email address</label>\r\n\r\n                        <input type=\"email\"\r\n                               className=\"form-control\"\r\n                               id=\"email\"\r\n                               name=\"email\"\r\n                               autoComplete=\"username\"\r\n                               placeholder=\"Enter email\"\r\n                               onChange={handleChange}\r\n                               value={state.email}\r\n                        />\r\n\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <label htmlFor=\"password\">Password</label>\r\n                        <input type=\"password\"\r\n                               className=\"form-control\"\r\n                               id=\"password\"\r\n                               name=\"password\"\r\n                               placeholder=\"Password\"\r\n                               autoComplete=\"current-password\"\r\n                               onChange={handleChange}\r\n                               value={state.password}\r\n                        />\r\n                    </div>\r\n                    <div className=\"form__buttons\">\r\n                        <button\r\n                            type=\"submit\"\r\n                            className=\"btn btn-primary\"\r\n                        >\r\n                            Registration\r\n                        </button>\r\n                        <button\r\n                            onClick={() => {history.push(\"/\");}}\r\n                            className=\"btn btn-dark\"\r\n                        >\r\n                            Cancel\r\n                        </button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default store(SingUp);\r\n\r\n","import React, { Component } from 'react'\r\nimport { store } from '../store/index';\r\n\r\nclass GeneralChat extends Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            messageInput: '',\r\n            messages: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n\r\n        this.props.socket.on('message', (data) => {\r\n            let newState = this.state;\r\n            newState.messages = [...newState.messages, {message: data.messageInput, userId: data.userId}];\r\n\r\n            if (this._isMounted) {\r\n                this.setState({\r\n                        ...newState,\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    sendMessage() {\r\n        this.props.socket.emit('message', {messageInput: this.state.messageInput, userId: this.props.auth.userId});\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let newState = this.state;\r\n        newState.messageInput = e.target.value;\r\n        this.setState({\r\n                ...newState,\r\n            }\r\n        );\r\n    };\r\n\r\n\r\n    render() {\r\n        let outputMessage = this.state.messages.map((el, i) => {\r\n            let isMyself = false;\r\n            el.userId === this.props.auth.userId ? isMyself = true : isMyself = false;\r\n\r\n            return (\r\n                <div key={i} className=\"massages__item\">\r\n                    <div className=\"messages__author\">\r\n                        {!isMyself ? this.props.auth.firstName + ' ' + this.props.auth.lastName + ':': 'I:'}\r\n                    </div>\r\n                    <div className={isMyself ? 'massages__text--right' : 'massages__text'} >\r\n                        {el.message}\r\n                    </div>\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"ChatWrapper\">\r\n                <div className=\"massages\">\r\n                    {outputMessage}\r\n                </div>\r\n                <textarea className=\"message\" onChange={this.handleChange} value={this.state.messageInput}/>\r\n                <button className=\"sendMessage\" onClick={()=>{this.sendMessage()}}>sss</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    // render() {\r\n    //     return (\r\n    //         <div>ad</div>\r\n    //     );\r\n    // }\r\n}\r\n\r\nexport default store(GeneralChat);\r\n\r\n","import React, { Component } from 'react'\r\nimport { store } from '../store/index';\r\n\r\nclass Users extends Component {\r\n    _isMounted = false;\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            users: [],\r\n        };\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._isMounted = true;\r\n\r\n        this.props.socket.emit('getUsers');\r\n\r\n        this.props.socket.on('getUsers', (data) => {\r\n            let newState = this.state;\r\n            newState.users = data;\r\n            //console.log(newState.users);\r\n            if (this._isMounted) {\r\n                this.setState({\r\n                        ...newState,\r\n                    }\r\n                );\r\n            }\r\n        });\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n\r\n    sendMessage() {\r\n        this.props.socket.emit('message', {messageInput: this.state.messageInput, userId: this.props.auth.userId});\r\n    }\r\n\r\n    handleChange = (e) => {\r\n        let newState = this.state;\r\n        newState.messageInput = e.target.value;\r\n        this.setState({\r\n                ...newState,\r\n            }\r\n        );\r\n    };\r\n\r\n\r\n    render() {\r\n\r\n        let outputUsers = this.state.users.map((el, i) => {\r\n            console.log(el);\r\n            return (\r\n                <div key={i} className=\"\">\r\n                    {el.firstName} {el.lastName}\r\n                </div>\r\n            );\r\n        });\r\n\r\n        return (\r\n            <div className=\"GeneralChat\">\r\n                {outputUsers}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default store(Users);\r\n\r\n","import React, { Component } from 'react'\r\nimport { store } from '../store/index'\r\nimport GeneralChat from './GeneralChat'\r\nimport Users from './Users'\r\nimport openSocket from 'socket.io-client'\r\n\r\nclass ChatWrapper extends Component {\r\n    socket = openSocket('http://localhost:5000');\r\n\r\n    componentDidMount() {\r\n        this.socket.on('connect', () => {\r\n            console.log(\"client connect\");\r\n        });\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"ChatWrapper\">\r\n                <div className=\"container-fluid\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-3\">\r\n                            <Users socket={this.socket}/>\r\n                        </div>\r\n                        <div className=\"col-md-6\">\r\n                            <GeneralChat socket={this.socket}/>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default store(ChatWrapper);\r\n\r\n","import React,{useEffect} from 'react';\r\nimport {store} from \"./store\";\r\nimport Header from \"./components/header\";\r\n\r\nimport {Router, Route, Switch, Redirect} from \"react-router\";\r\nimport { createBrowserHistory } from \"history\";\r\n\r\n// import openSocket from 'socket.io-client';\r\nimport SignIn from \"./pages/SignIn\";\r\nimport SignUp from \"./pages/SignUp\";\r\nimport ChatWrapper from \"./pages/ChatWrapper\";\r\n\r\nconst history = createBrowserHistory();\r\nlet path = history.location.pathname;\r\n\r\nfunction App(props) {\r\n    useEffect(() => {\r\n        props.checkLogged();\r\n        // const socket = openSocket('http://localhost:5000');\r\n    },[]);\r\n\r\n\r\n    return(\r\n        <Router history={history}>\r\n            <Header />\r\n            <Switch>\r\n                <Route path=\"/chatWrapper\" component={ChatWrapper}/>\r\n                <Route path=\"/registration\" component={SignUp}/>\r\n                <Route path=\"/\" component={SignIn}/>\r\n            </Switch>\r\n\r\n            { props.auth.logged ? <Redirect to=\"/chatWrapper\" />: path !== \"/registration\" ? <Redirect to=\"/\" />: '' }\r\n        </Router>\r\n\r\n    )\r\n}\r\n\r\nexport default store(App);\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { Provider } from 'react-redux';\r\nimport { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport actions from './store/Auth/actions'\r\n\r\nimport reducers from './store/reducers';\r\nimport App from './App';\r\n\r\n// styles\r\nimport 'bootstrap/dist/css/bootstrap.css';\r\nimport './assets/sass/app.scss'\r\n\r\nconst store = createStore(reducers, applyMiddleware(thunk));\r\n// store.getState();\r\n// store.subscribe(() => store.getState());\r\n//store.dispatch(actions.loginRequest()).then(() => console.log(store.getState()))\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>,\r\n    document.getElementById('app')\r\n);\r\n"],"sourceRoot":""}